% SPDX-License-Identifier: CC-BY-SA-4.0
% Author: Matthieu Perrin
% Part: 
% Section: 
% Sub-section: 
% Frame: 

\begingroup

\begin{frame}[fragile]{Un deuxi√®me essai}

  On suppose deux processus, d'identifiants 0 et 1. 

  \begin{lstlisting}
    class NaiveLock2 implements Lock {
      private (*\Structure{boolean[] entering = new boolean[]\{false, false;\}}*)
      public void lock() {
        int i = ThreadID.get();
        (*\Structure{entering[i] = true;}*) 
        while( (*\Structure{entering[1-i]}*) );
      }
      public void unlock() {
        int i = ThreadID.get();
        (*\Structure{entering[i] = false;}*)
      }
    }
  \end{lstlisting}

  \begin{exampleblock}{Exercice}
    \begin{itemize}
    \item Cet algorithme respecte-t-il l'\example{exclusion mutuelle} ?
    \item Cet algorithme est-il \example{starvation-free} ?
    \end{itemize}
  \end{exampleblock}

\end{frame}

\endgroup
\endinput
